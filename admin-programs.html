<!DOCTYPE html>
<html>
<head>
  <title>Admin - Programmes</title>
  <style>
    body {
      font-family: Arial;
      background: #0d1117;
      color: white;
      padding: 20px;
    }
    input, button {
      padding: 10px;
      width: 100%;
      margin-top: 10px;
      border-radius: 5px;
      border: none;
    }
    button {
      background: #00ffcc;
      font-weight: bold;
      cursor: pointer;
    }
    .item {
      background: #161b22;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
    }
    .actions button {
      width: 48%;
      margin-top: 5px;
    }
    .delete {
      background: #ff4d4d;
      color: white;
    }
  </style>
</head>

<body>

<h2>üìò Admin Panel - Programmes</h2>

<input type="text" id="progName" placeholder="Program Name (BCA, BBA etc)">
<input type="text" id="progUrl" placeholder="Program Page URL">

<button onclick="addOrUpdateProgram()" id="mainBtn">Add Program</button>

<div id="programList"></div>

<script>
  let editIndex = -1;

  function addOrUpdateProgram() {
    let name = document.getElementById("progName").value;
    let url = document.getElementById("progUrl").value;

    if (name === "" || url === "") {
      alert("Please fill all fields");
      return;
    }

    let programs = JSON.parse(localStorage.getItem("programData")) || [];

    if (editIndex === -1) {
      // ADD
      programs.push({ name, url });
    } else {
      // UPDATE
      programs[editIndex] = { name, url };
      editIndex = -1;
      document.getElementById("mainBtn").innerText = "Add Program";
    }

    localStorage.setItem("programData", JSON.stringify(programs));
    document.getElementById("progName").value = "";
    document.getElementById("progUrl").value = "";

    showPrograms();
  }

  function showPrograms() {
    let programs = JSON.parse(localStorage.getItem("programData")) || [];
    let html = "";

    programs.forEach((p, index) => {
      html += `
        <div class="item">
          ‚úÖ <b>${p.name}</b><br>
          üîó ${p.url}
          <div class="actions">
            <button onclick="editProgram(${index})">‚úèÔ∏è Edit</button>
            <button class="delete" onclick="deleteProgram(${index})">üóëÔ∏è Delete</button>
          </div>
        </div>
      `;
    });

    document.getElementById("programList").innerHTML = html;
  }

  function editProgram(index) {
    let programs = JSON.parse(localStorage.getItem("programData")) || [];
    document.getElementById("progName").value = programs[index].name;
    document.getElementById("progUrl").value = programs[index].url;

    editIndex = index;
    document.getElementById("mainBtn").innerText = "Update Program";
  }

  function deleteProgram(index) {
    if (!confirm("Are you sure you want to delete this program?")) return;

    let programs = JSON.parse(localStorage.getItem("programData")) || [];
    programs.splice(index, 1);
    localStorage.setItem("programData", JSON.stringify(programs));
    showPrograms();
  }

  showPrograms();
</script>

</body>
</html>
